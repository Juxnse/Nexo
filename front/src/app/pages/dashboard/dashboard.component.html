<div class="dashboard-container">
  <!-- Header -->
  <header class="dashboard-header">
    <div class="user-info">
      <ng-template #placeholderAvatar>
        <div class="avatar placeholder">
          {{ userEmail?.charAt(0) | uppercase }}
        </div>
      </ng-template>

      <div class="user-text">
        <h2>Welcome to your Dashboard</h2>
        <p *ngIf="userEmail">
          Signed in as <strong>{{ userEmail }}</strong>
        </p>
      </div>
    </div>

    <button class="btn-logout" (click)="logout()">
      <i class="fa-solid fa-right-from-bracket"></i> Log out
    </button>
  </header>

  <!-- Grid principal -->
  <section class="dashboard-grid">
    <!-- Perfil -->
    <div class="card">
      <div class="icon profile"><i class="fa-solid fa-user"></i></div>
      <h3>Profile</h3>
      <p>View and update your personal information.</p>
      <a routerLink="/profile" class="btn btn-primary">View Profile</a>
    </div>

    <!-- Comunidades -->
    <div class="card">
      <div class="icon community"><i class="fa-solid fa-people-group"></i></div>
      <h3>Communities</h3>
      <p>Explore existing communities or create your own.</p>
      <div class="actions">
        <a routerLink="/groups" class="btn btn-primary">View Communities</a>
        <a routerLink="/groups/create" class="btn btn-outline">Create Community</a>
      </div>
    </div>

    <!-- Metrics & Engagement -->
    <div class="card">
      <div class="icon notifications"><i class="fa-solid fa-bell"></i></div>
      <h3>Metrics & Engagement</h3>
      <p>Soon youâ€™ll be able to view the engagement and metrics of your activities.</p>
      <button class="btn btn-disabled" disabled>In development</button>
    </div>

  </section>

  <!-- Eventos destacados -->
  <section class="featured-events" *ngIf="featuredEvents.length > 0">
    <h3>Featured Events</h3>

    <div *ngIf="loadingEvents" class="loading">Loading events...</div>

    <div class="events-scroll" *ngIf="!loadingEvents">
      <div class="event-card" *ngFor="let e of featuredEvents">
        <div class="event-banner"></div>
        <div class="event-info">
          <h4>{{ e.title }}</h4>
          <p>Group: {{ e.groups.name || 'Unknown community' }}</p>
          <p class="date">
            <i class="fa-regular fa-clock"></i>
            {{ e.start_at | date: 'longDate' }},
            {{ e.start_at | date: 'shortTime' }}
          </p>
          <a class="btn-view" [routerLink]="['/groups', e.group_id]" [queryParams]="{ tab: 'events' }">
            View events
          </a>
        </div>
      </div>
    </div>
  </section>
</div>